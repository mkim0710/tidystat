---
##HHHHHHHHHHHHHHHHHH BEGINNING OF TABLE OF CONTENTS HHHHHHHHHHHHHHHHHHHHHH##  
# TABLE OF CONTENTS (level 1) ----  
# ⸿ REFERENCES)                                                            #L247
# ⸿ DATA) example                                                          #L256
# ⸿ START) dev                                                             #L276
# ⸿ SOURCE)                                                                #L311
# ⸿ START) function                                                        #L353
# ⸿ MetaData) Read & Check                                                 #L402
# ⸿ DATA) Read & Check                                                     #L472
# ⸿ ANALYSIS) (Breif) byVar =                                              #L638
# ⸿ DATA) mutate()                                                         #L644
# ⸿ DATA) filter() -> New DS                                               #L675
# ⸿ DATA) select(matches(VarName.suffix.regex))                            #L708
# ⸿ ANALYSIS) byVar =                                                      #L722
##HHHHHHHHHHHHHHHHHHHH THE END OF TABLE OF CONTENTS HHHHHHHHHHHHHHHHHHHHHH##   
##HHHHHHHHHHHHHHHHHH BEGINNING OF TABLE OF CONTENTS HHHHHHHHHHHHHHHHHHHHHH##  
# TABLE OF CONTENTS (level 1) ----  
# ⸿ REFERENCES)                                                            # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L247
# ⸿ DATA) example                                                          # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L256
# ⸿ START) dev                                                             # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L276
# ⸿ SOURCE)                                                                # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L311
# ⸿ START) function                                                        # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L353
# ⸿ MetaData) Read & Check                                                 # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L402
# ⸿ DATA) Read & Check                                                     # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L472
# ⸿ ANALYSIS) (Breif) byVar =                                              # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L638
# ⸿ DATA) mutate()                                                         # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L644
# ⸿ DATA) filter() -> New DS                                               # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L675
# ⸿ DATA) select(matches(VarName.suffix.regex))                            # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L708
# ⸿ ANALYSIS) byVar =                                                      # https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd#L722
##HHHHHHHHHHHHHHHHHHHH THE END OF TABLE OF CONTENTS HHHHHHHHHHHHHHHHHHHHHH##   
# cmd /C C:/PROGRA~2/MICROS~1/Edge/APPLIC~1/msedge_proxy.exe --app=https://github.com/mkim0710/tidystat/blob/master/rstudio-prefs/templates/templates-00env1.minimum.Rmd
# https://forum.posit.co/t/when-to-use-yaml-vs-when-to-use-setup-code-chunk/56169/
title: "`r params$doc_title`"
author: "MHKim"
date: "`r Sys.setlocale('LC_ALL', 'en_US.utf8'); format(Sys.time(), '%B %d, %Y')`"
output:
  html_notebook:
    md_extensions: -smart
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: false
      smooth_scroll: false
    number_sections: false
    code_folding: none
    df_print: tibble
    highlight: textmate
    fig_width: 10
    fig_height: 6
  html_document:
    md_extensions: -smart
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: false
      smooth_scroll: false
    number_sections: false
    df_print: tibble
    code_folding: none
    highlight: textmate
    fig_width: 10
    fig_height: 6
  pdf_document:
    md_extensions: -smart
    toc: yes
    toc_depth: 6
    fig_width: 10
    fig_height: 6
    latex_engine: xelatex  # mainfont, sansfont, monofont, mathfont works only with xelatex and lualatex, but not pdflatex
    keep_tex: true
  word_document:
    md_extensions: -smart
    toc: yes
    toc_depth: 6
    fig_width: 9
    fig_height: 6
# documentclass: scrartcl  # https://pandoc.org/MANUAL.html#variables-for-latex
# classoption: fontsize=9pt 
geometry: portrait, a3paper, margin=20mm # https://bookdown.org/yihui/rmarkdown/pdf-document.html#latex-options
# fontsize: 12pt
header-includes: 
  - \usepackage{fontspec}
  - \newcommand{\setfallbackfont}[4]{
      \IfFontExistsTF{#2}
        {#1{#2}}
        {\IfFontExistsTF{#3}
          {#1{#3}}
          {#1{#4}}}}
  # - \setfallbackfont{\setmainfont}{Roboto Condensed}{Noto Sans Condensed}{Arial Narrow}
  # - \setfallbackfont{\setsansfont}{Roboto Condensed}{Noto Sans Condensed}{Arial Narrow}
  - \setfallbackfont{\setmainfont}{Roboto}{Noto Sans}{Arial}
  - \setfallbackfont{\setsansfont}{Roboto}{Noto Sans}{Arial}
  - \setfallbackfont{\setmonofont}{Cascadia Code SemiBold}{Cascadia Code}{Fira Code}
  - \usepackage[hangul]{kotex}
  # - \setfallbackfont{\setmainhangulfont}{NanumGothic}{HCR Dotum LVT}{Malgun Gothic}
  # - \setfallbackfont{\setsanshangulfont}{NanumGothic}{HCR Dotum LVT}{Malgun Gothic}
  # - \setfallbackfont{\setmonohangulfont}{D2Coding}{NanumGothicCoding}{NanumGothic}
params:
  doc_title: !r basename(rstudioapi::getSourceEditorContext()$path)
# https://stackoverflow.com/questions/55751815/r-markdown-difference-between-parameters-and-variables
# ?rmarkdown::html_document
---
<!-- https://stackoverflow.com/questions/28480625/r-knitr-markown-setting-html-page-width -->
<style type="text/css">
.main-content, .toc {max-width: 785px; margin: 0 auto; font-size: 1rem;} /* A4: 21cm x 29.7cm = 8.27in x 11.69in; 8.27in x 96px/in ≈ 793px */
html { font-size: 12px; }
body { font-size: 12px; font-family: 'Roboto Condensed', 'Noto Sans Condensed', 'Open Sans Condensed', 'Source Sans 3', 'Arial Narrow', Helvetica, sans-serif; }
h1.title { font-size: 28px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 14px; margin-bottom: 0; color: Navy; }
h1 { font-size: 24px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 12px; margin-bottom: 0; color: Navy; }
h2 { font-size: 21px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 11px; margin-bottom: 0; color: Navy; }
h3 { font-size: 18px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 9px; margin-bottom: 0; color: Navy; }
h4 { font-size: 16px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 8px; margin-bottom: 0; color: Navy; }
h5 { font-size: 14px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 7px; margin-bottom: 0; color: Navy; }
h6 { font-size: 12px; font-family: 'Roboto Serif', 'Noto Serif', 'Source Serif 4', serif; line-height: 1.1; margin-top: 6px; margin-bottom: 0; color: Navy; }
table, td, th, figure, figcaption { font-size: 10px; font-family: 'Roboto Condensed', 'Noto Sans Condensed', 'Open Sans Condensed', 'Source Sans 3', 'Arial Narrow', Helvetica, sans-serif; line-height: 1.1; margin-top: 5px; margin-bottom: 0; }
code { font-size: 11px; font-family: 'Cascadia Code SemiBold', 'Cascadia Code', 'Fira Code', Consolas, 'Source Code Pro', monospace; line-height: 1.1; margin-top: 6px; margin-bottom: 0; color: DimGray; background-color: Snow; }
pre { font-size: 11px; font-family: 'Cascadia Code SemiBold', 'Cascadia Code', 'Fira Code', Consolas, 'Source Code Pro', monospace; line-height: 1.1; margin-top: 6px; margin-bottom: 0; color: DimGray; background-color: Snow; }
</style>
  
<!-- font-size: 0.9em; /* 90% of inherited font size */ -->
  
<!-- Body text (body): The default font size is typically 16 pixels. -->
<!-- Paragraphs (p): Inherit the body's font size, so also typically 16 pixels. -->
<!-- List items (li): Inherit the body's font size, generally 16 pixels. -->
<!-- Headings (h1 to h6): The default sizes decrease with each level. For example: -->
<!-- h1: Typically around 32 pixels. -->
<!-- h2: Often around 24 pixels. -->
<!-- h3: Commonly around 18.72 pixels. -->
<!-- h4: Usually about 16 pixels. -->
<!-- h5: Generally around 13.28 pixels. -->
<!-- h6: Often about 10.72 pixels. -->
<!-- Blockquotes (blockquote): Usually inherit the body's font size, around 16 pixels. -->
<!-- Tables (table), table cells (td, th): Typically inherit the body's font size, so around 16 pixels. -->
<!-- Figures (figure) and figure captions (figcaption): Generally inherit the body's font size, so about 16 pixels. -->
<!-- 1: Approximately 8 pixels. -->
<!-- 2: Approximately 10 pixels. -->
<!-- 3: Approximately 12 pixels (this was often considered the default size). -->
<!-- 4: Approximately 14 pixels. -->
<!-- 5: Approximately 18 pixels. -->
<!-- 6: Approximately 24 pixels. -->
# __________|------  
<!-- {r Rstudio-RMarkDown-Shortcuts, eval=FALSE, include=FALSE} -->
<!-- ##### Rstudio RMarkDown Shortcuts -->
<!-- https://support.posit.co/hc/en-us/articles/200711853-Keyboard-Shortcuts-in-the-RStudio-IDE   -->
<!-- https://bookdown.org/yihui/rmarkdown-cookbook/rstudio-shortcuts.html   -->
<!-- Insert R chunk	Ctrl+Alt+I	Command+Option+I   -->
<!-- Preview HTML	Ctrl+Shift+K	Command+Shift+K   -->
<!-- Run all chunks above	Ctrl+Alt+P	Command+Option+P   -->
<!-- Run current chunk	Ctrl+Alt+C	Command+Option+C   -->
<!-- Run current chunk	Ctrl+Shift+Enter	Command+Shift+Enter   -->
<!-- Run next chunk	Ctrl+Alt+N	Command+Option+N   -->
<!-- Run all chunks	Ctrl+Alt+R	Command+Option+R   -->
<!-- Go to next chunk/title	Ctrl+PgDown	Command+PgDown   -->
<!-- Go to previous chunk/title	Ctrl+PgUp	Command+PgUp   -->
<!-- Show/hide document outline	Ctrl+Shift+O	Command+Shift+O   -->
<!-- F7 spell-check your document.   -->
<!-- Restart the R session   Ctrl + Alt + F10 (or Command + Option + F10 on macOS).   -->
<!--    -->
<!-- *** Caution: @ # \$ \% * \\ ***  -->

  
```{r setup, echo=FALSE, results="hide"}
## Cf) {r setup, eval=TRUE, include=FALSE}
if(Sys.info()["sysname"] == "Windows") Sys.setlocale("LC_ALL", "en_US.UTF-8")  # Note that setting category "LC_ALL" sets only categories "LC_COLLATE", "LC_CTYPE", "LC_MONETARY" and "LC_TIME".
# Sys.setlocale("LC_MESSAGES", "en_US.utf8")  # Note that the LANGUAGE environment variable has precedence over "LC_MESSAGES" in selecting the language for message translation on most R platforms.  # LC_MESSAGES does not exist in Windows
Sys.setenv(LANGUAGE="en_US");  # Sys.getenv("LANGUAGE");    # Note that the LANGUAGE environment variable has precedence over "LC_MESSAGES" in selecting the language for message translation on most R platforms.
# str(knitr::opts_chunk$get())
# cat(deparse(knitr::opts_chunk$get(), width.cutoff=120), "  \n", sep="")
# list(eval=TRUE, echo=TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = "##",     highlight = TRUE, size = "normalsize", background = "#F7F7F7", strip.white = structure(TRUE, class = "AsIs"), cache = FALSE,     cache.path = "cache/", cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, autodep = FALSE, cache.rebuild = FALSE,     fig.keep = "high", fig.show = "asis", fig.align = "default", fig.path = "figure/", dev = NULL, dev.args = NULL, dpi = 72,     fig.ext = NULL, fig.width=7, fig.height=7, fig.env = "figure", fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:",     fig.subcap = NULL, fig.pos = "", out.width=NULL, out.height=NULL, out.extra = NULL, fig.retina = 1, external = TRUE,     sanitize = FALSE, interval = 1, aniopts = "controls,loop", warning = TRUE, error = TRUE, message = TRUE, render = NULL,     ref.label = NULL, child = NULL, engine = "R", split = FALSE, include = TRUE, purl = TRUE)
knitr::opts_chunk$set(
    eval=TRUE, echo=FALSE, results="markup", collapse=TRUE, # In Rstudio Notebook Source Pane & nb.HTML, results="hold" does not work
    comment="#", fig.width=10, fig.height=6, # In Rstudio Notebook Source Pane & nb.HTML, comment="##" does not work?
    warning=TRUE, message=TRUE, include=TRUE, 
    error=FALSE,  # error=TRUE: show the errors without stopping R; error=FALSE: stop on error
    tidy.opts=list(width.cutoff=120), tidy=FALSE, 
    R.options = list(width=120), paged.print=FALSE
) 
# knitr::opts_chunk$set(message=TRUE) & {r, results="hide"} -> message shown in Rstudio Notebook Source Pane & knitted HTML, but not in Preview nb.HTML?!
# knitr::opts_chunk$set(message=FALSE) & {r, message=TRUE, results="hide"} -> message shown in Rstudio Notebook Source Pane & knitted HTML, but not in Preview nb.HTML?!
# *** results="hide": results shown only on Rstudio Notebook Source Pane, but not in nb.HTML nor knitted HTML
knitr::opts_knit$set(global.par = TRUE)


## Cf) {r loadPackages-NoEchoHideResults, echo=FALSE, results="hide"}
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
# env1$f$MH_shortcuts()
#| ------------------------- < To be covered at .Rprofile > --------------------- |#  
if(!exists("env1", envir=.GlobalEnv)) {  message('> source("https://raw.githubusercontent.com/mkim0710/tidystat/master/.Rprofile")')  ;  source("https://raw.githubusercontent.com/mkim0710/tidystat/master/.Rprofile")  ;  .First()  }  
if(!".Rprofile" %in% names(.GlobalEnv$env1$source)) {  message('> source("https://raw.githubusercontent.com/mkim0710/tidystat/master/.Rprofile")')  ;  source("https://raw.githubusercontent.com/mkim0710/tidystat/master/.Rprofile")  ;  .First()  }  
##________________________________________________________________________________  
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
env1$info$options.width = getOption("width"); cat('\tgetOption("width") == ', env1$info$options.width, "  \n", sep="")
#   
## Cf) {r env1-Info-NoEchoHideResults, echo=FALSE, results="hide"}
# https://yihui.org/knitr/options/#package-options
env1$info$info_software_versions = env1$env.internal.attach$get_software_versions(library_names = c("tidyverse", "dplyr", "ggplot2", "purrr", "stringr", "stats","survival"))
# str(env1$info$info_software_versions)


###### env1\$info\$DocumentTitle1 ----  
# ```{r env1-DocumentTitle1-NoEchoHideResults, echo=FALSE, results="hide"}
env1$info$DocumentTitle0 = paste0("00env1.minimum","-",basename(getwd()))
env1$info$DocumentTitle1 = paste0(env1$info$DocumentTitle0,"@", ifelse(grepl("MacBook-Pro", Sys.info()["nodename"]), "MBP", Sys.info()["nodename"]))
cat(env1$info$DocumentTitle0,"-",format(Sys.time(),"%y%m%d"), "\n", 
    env1$info$DocumentTitle0,"-",format(Sys.time(),"%y%m%d"),".Rmd", "\n", 
    env1$info$DocumentTitle0,"-dev",format(Sys.time(),"%y%m%d"),".Rmd", "\n", 
    env1$info$DocumentTitle0,"-clean",format(Sys.time(),"%y%m%d"),".Rmd", "\n", 
    sep="")
```
  
  
```{r env1-Path-NoEchoNoMsgNoResults, echo=FALSE, warning=TRUE, message=NA, results="hide"}
###### env1\$path ----  
# cat(" getwd() == "); dput(getwd())  
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
### env1\$path\$LastSourceEditorContext.path_FileNameExt ====  
# *** Caution) In Rstudio Notebook, the path of the running Rmd file is set as the working directory~!!!
# .tmp$LastSourceEditorContext.path_FileNameExt = rstudioapi::getSourceEditorContext()$path |> normalizePath(winslash="/",mustWork=NA)    # Caution) not a relative path~!  
# env1$path$LastSourceEditorContext.path_FileNameExt = rstudioapi::getSourceEditorContext()$path |> normalizePath(winslash="/",mustWork=NA) |> str_replace(fixed(env1$path$path1|>normalizePath(winslash="/",mustWork=NA)), "") |> str_replace("^/", "")
env1$path$LastSourceEditorContext.path_FileNameExt = rstudioapi::getSourceEditorContext()$path |> normalizePath(winslash="/",mustWork=NA)    # Caution) Not using a relative path~!
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
# env1$path$project_base = "Rproject_HEALS0215"
# env1$path$data_suffix = "_01"
# # env1$path$data_suffix = ""
# env1$path$project_suffix = "GJ3"
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  
# env1$path$path4read = file.path(env1$path$path0, paste0(env1$path$project_base, env1$path$data_suffix))
# env1$path$path4write = file.path(env1$path$path4read, paste0(env1$path$project_base, env1$path$data_suffix, env1$path$project_suffix))
env1$path$path4read = ifelse(is.na(env1$path$path1), getwd(), env1$path$path1)
env1$path$path4write = getwd()
.path4read  = env1$path$path4read
.path4write = env1$path$path4write
# cat(" > str(env1$path)\n"); str(env1$path, max.level = 1, give.attr = F)  

## @ env1 |> as.list() |> str(max.level = 2, give.attr = FALSE) ----  
"ls(all.names = TRUE, envir = .GlobalEnv) |> set_names() |> map(get) |> str(max.level = 1, give.attr = FALSE)" |> env1$f$f_CodeText.ECHO(EXECUTE = TRUE, deparse_cat = FALSE, LinePrefix4CodeText = "> ", LinePrefix4Output = "")
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
".tmp |> str(max.level = 1, give.attr = FALSE)" |> env1$f$f_CodeText.ECHO(EXECUTE = TRUE, deparse_cat = FALSE, LinePrefix4CodeText = "> ", LinePrefix4Output = "")
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
"env1 |> as.list() |> env1$f$f_list.str_by_element(max.level = 2, give.attr = FALSE)" |> env1$f$f_CodeText.ECHO(EXECUTE = TRUE, deparse_cat = FALSE, LinePrefix4CodeText = "> ", LinePrefix4Output = "")
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  
# .FileName.source.r = "f_DSname.Search.read.checkEntity" |> paste0("-source.R"); .RelativeSubPath=r"(R)"|>str_replace_all("\\\\","/"); env1$f$f_sourcePath.execute_if_not_sourced(.RelativeSubPath_FileName.source.r = list(.RelativeSubPath, .FileName.source.r) %>% {.[nzchar(.)]} %>% c(fsep = "/") %>% {do.call(file.path, .)})
# if (getwd() != .path4write) warning("getwd() != .path4write  == ") else cat(" getwd() == .path4write == "); dput(.path4write)  
```
  
  
# __________|------  
# ⸿ REFERENCES) ----  
## https://cran.r-project.org/doc/FAQ/R-FAQ.pdf#page=42&view=FitV&navpanes=1
## https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
## strings 2017.10.pdf
### []$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]
  
## https://chatgpt.com/c/66f605cf-6be4-800e-88a3-e8e23a7cb379?model=o1-pro
### [.\\+*?^$(){}|\\[\\]\\-]

### 1. Escaping Special Characters When Developing a Regex

#### 1.1. Which Characters Are Special in Regex?

In most regex engines (including PCRE, POSIX ERE, and those used in languages like R, Python, and Java), the following characters typically have special meaning and **must be escaped** if you want to treat them literally:

        `.  +  *  ?  ^  $  (  )  [  ]  {  }  |  \` 

Some regex engines also treat **`-`** (hyphen) as special inside character classes (e.g., `[a-z]`). Therefore, a practical approach is to escape the hyphen **when it appears inside** a character class.

#### 1.2. A Robust Regex Pattern for Escaping

Below is a common pattern to catch **all** of these characters (including the hyphen and the dot). In a PCRE or most standard engines, you can use:

        `([.\\+*?^$(){}|[\]\-])`

-   **Explanation**:
    -   `(` and `)` — Capturing group.
    -   Inside `[ ]`, we place all characters that need escaping:
        -   `.` (dot), `\` (backslash), `+`, `*`, `?`, `^`, `$`, `(`, `)`, `{`, `}`, `|`, `[`, `]`, `\-`.
    -   We have to backslash-escape the backslash itself (`\\`) and also the bracket-related characters where needed.

Depending on the programming language, you may need additional escapes. For example, in an R string literal, you might write this as:


        `"([\\.\\\\+*?^\\$(){}|\\[\\]\\-])"`


## https://chatgpt.com/c/67776103-6c28-800e-9b02-b455688f189e
### [.*+?^=!:|\\\\/()\\[\\]{}]

## https://chatgpt.com/c/677a2c51-dcc0-800e-a0c2-9c4195229323
### c("\\", ".", "|", "(", ")", "[", "]", "{", "}", "^", "$", "*", "+", "?", "!")
### "(\\\\|\\.|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\^|\\$|\\*|\\+|\\?|\\!)"
### "[\\^$.*+?()|{}\\[\\]\\\\!]"

# __________|------  
# ⸿ DATA) example ----  

## @ ASCII code (0:127) ----
### \% intToUtf8(0:31) |> cat0()  
### \% intToUtf8(32:47) |> cat0()    #  !"#$%&'()*+,-./
### \% intToUtf8(48:57) |> cat0()    # 0123456789
### \% intToUtf8(58:64) |> cat0()    # :;<=>?@
### \% intToUtf8(65:90) |> cat0()    # ABCDEFGHIJKLMNOPQRSTUVWXYZ
### \% intToUtf8(91:96) |> cat0()    # [\]^_`
### \% intToUtf8(97:122) |> cat0()    # abcdefghijklmnopqrstuvwxyz
### \% intToUtf8(123:126) |> cat0()    # {|}~
### \% intToUtf8(127) |> cat0()    # DEL
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
intToUtf8(0:31) |> cat0()  
intToUtf8(32:47) |> cat0()    #  !"#$%&'()*+,-./
intToUtf8(48:57) |> cat0()    # 0123456789
intToUtf8(58:64) |> cat0()    # :;<=>?@
intToUtf8(65:90) |> cat0()    # ABCDEFGHIJKLMNOPQRSTUVWXYZ
intToUtf8(91:96) |> cat0()    # [\]^_`
intToUtf8(97:122) |> cat0()    # abcdefghijklmnopqrstuvwxyz
intToUtf8(123:126) |> cat0()    # {|}~
intToUtf8(127) |> cat0()    # DEL
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
c(32:47,58:64,91:96,123:126) |> intToUtf8() |> cat0()   #  !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~  
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
vec_chr.ASCII_nonalphanumeric = c(32:47,58:64,91:96,123:126) %>% {function(vec_chr) {  vec_chr |> intToUtf8() |> str_split("") |> unlist() |> set_names(vec_chr)  }}()
vec_chr.ASCII_nonalphanumeric %>% str()
```


## @ constant_vec.SpecialChars32KeyboardLayout = ----
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
"`~!@#$%^&*()-=_+
[]\\{}|
;':\"
,./<>?" 
"`~!@#$%^&*()-=_+[]\\{}|;':\",./<>?" |> str_split_1("") %>% str()    # no unique() no sort()
"`~!@#$%^&*()-=_+[]\\{}|;':\",./<>?" %>% utf8ToInt() %>% as.numeric %>% dput.deparse.cat0()  # c(96, 126, 33, 64, 35, 36, 37, 94, 38, 42, 40, 41, 45, 61, 95, 43, 91, 93, 92, 123, 125, 124, 59, 39, 58, 34, 44, 46, 47, 60, 62, 63)
env1$env.internal.attach$constant_chr1.SpecialChars32KeyboardLayout = "`~!@#$%^&*()-=_+[]\\{}|;':\",./<>?"
env1$env.internal.attach$constant_vec.SpecialChars32KeyboardLayout = "`~!@#$%^&*()-=_+[]\\{}|;':\",./<>?" |> str_split_1("")  # no unique() no sort()
all.equal(env1$env.internal.attach$constant_chr1.SpecialChars32KeyboardLayout, env1$env.internal.attach$constant_vec.SpecialChars32KeyboardLayout %>% paste0(collapse=""))  
```


## @ RegEx Special Characters ----
### RegExChrClass34strings_cheatsheet = "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
### RegExChrClass_gpt_o1 = "[.\\\\+*?^$(){}|\\[\\]\\-]"
### RegExChrClass_gpt_o1p = "[.*+?^=!:|\\\\/()\\[\\]{}]"
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
RegExChrClass34strings_cheatsheet = "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
RegExChrClass34strings_cheatsheet %>% dput
RegExChrClass34strings_cheatsheet %>% {cat(" ",.,"\n", sep="")}
# "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
#  []$*+.?[^{|(\#%&~_/<=>'!,:;`")}@-]
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
RegExChrClass_gpt_o1 = "[.\\\\+*?^$(){}|\\[\\]\\-]"
RegExChrClass_gpt_o1 %>% dput
RegExChrClass_gpt_o1 %>% {cat(" ",.,"\n", sep="")}
# "[.\\\\+*?^$(){}|\\[\\]\\-]"
#  [.\+*?^$(){}|\[\]\-]
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
RegExChrClass_gpt_o1p = "[.*+?^=!:|\\\\/()\\[\\]{}]"
RegExChrClass_gpt_o1p %>% dput
RegExChrClass_gpt_o1p %>% {cat(" ",.,"\n", sep="")}
# "[.*+?^=!:|\\\\/()\\[\\]{}]"
#  [.*+?^=!:|\\/()\[\]{}]
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
RegExChrClass4RegExEscape_gpt_o1 = "[$()*+.?[^{|(\\#%&~_/<=>'!,:;`)}@-]"


```
  
  
# __________|------  
# ⸿ START) dev ----  
```{r env0-NoEchoNoResults, echo=FALSE, results="hide"}
env0 = env1
```
  
  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
  
# __________|------  
# ⸿ SOURCE) ----  
```{r RUN-ALL-CHUNKS-ABOVE, echo=FALSE, results="hide", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
#| RUN ALL CHUNKS ABOVE: CTRL+ALT+SHIFT+P |#
```


```{r .RelativeSubPath_FileName.source.r-NoEchoNoMsgNoResults, echo=FALSE, warning=TRUE, message=NA, results="hide"}
options(width=120)
options(DEVMODE = TRUE);  # isTRUE(getOption("DEVMODE"))
# .RelativeSubPath=r"(rstudio-prefs\templates)"|>str_replace_all("\\\\","/")  # Using Raw Strings in R 4.0.0 and Later: The raw string literal, denoted by r"(...)", will not process \ as an escape character.
if(env1$f$f_object.is_not_null.nor_na.nor_blank(env1$path$LastSourceEditorContext.path_FileNameExt)) {    .RelativeSubPath = env1$path$LastSourceEditorContext.path_FileNameExt |> dirname() |> env1$f$f_path.relative()  ;    ".RelativeSubPath" |> env1$f$f_ObjectName.get.dput.ECHO()    }
# if(.RelativeSubPath!="") .RelativeSubPath |> normalizePath(winslash="/",mustWork=TRUE) |> utils::browseURL() |> try()
# .FileName.source.r = "default.template" |> paste0(".source.r")
if(env1$f$f_object.is_not_null.nor_na.nor_blank(env1$path$LastSourceEditorContext.path_FileNameExt)) {    .SourceName_root = env1$path$LastSourceEditorContext.path_FileNameExt |> basename() |> str_replace("\\.(dev|source)\\.(r|Rmd)$"|>regex(ignore_case=TRUE), "") |> str_replace("\\.(r|Rmd)$"|>regex(ignore_case=TRUE),"")  ;    ".SourceName_root" |> env1$f$f_ObjectName.get.dput.ECHO()    }
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
env1$env.internal$showCodeText2open.FileName.source.r(.RelativeSubPath, .FileName.source.r)
# #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  
# # \% source( file.path(env1$path$source_base,.RelativeSubPath_FileName.source.r) )  ----  
# env1$f$f_sourcePath.execute_if_not_sourced(.RelativeSubPath_FileName.source.r = list(.RelativeSubPath, .FileName.source.r) %>% {.[nzchar(.)]} %>% c(fsep = "/") %>% {do.call(file.path, .)})
```
  
  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
  
# __________|------  
# ⸿ START) function o1p ----  
## https://chatgpt.com/c/6777996a-26bc-800e-b780-a661b714b672
## :: f_str1_str2.compareCharClasses_list()
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

#' Compare two character classes from regex patterns as sets of characters.
#'
#' @param RegExChrClass1 A string containing the first regex character class, e.g. "[abc]".
#' @param RegExChrClass2 A string containing the second regex character class, e.g. "[xyz]".
#' @param VERBOSE Logical (default = isTRUE(getOption("verbose"))).
#'   If TRUE, prints intermediate outputs for debugging.
#' @param output_as_data_frame Logical. If FALSE (default), a named list is returned.
#'   If TRUE, a data frame is returned with nrow = length of the union, and columns
#'   \code{vec1}, \code{vec2}, \code{intersect}, \code{setdiff_1_2}, \code{setdiff_2_1},
#'   each indicating (as logical) whether the union element is in that set.
#'
#' @return If \code{output_as_data_frame = FALSE}, returns a named list with elements:
#'   \item{union}{Union of the characters from \code{RegExChrClass1} and \code{RegExChrClass2}.}
#'   \item{intersect}{Intersection of the characters.}
#'   \item{setdiff_1_2}{Characters in \code{RegExChrClass1} but not in \code{RegExChrClass2}.}
#'   \item{setdiff_2_1}{Characters in \code{RegExChrClass2} but not in \code{RegExChrClass1}.}
#'
#'   If \code{output_as_data_frame = TRUE}, returns a \code{tibble::tibble} with columns:
#'   \item{union_char}{The union character.}
#'   \item{vec1, vec2, intersect, setdiff_1_2, setdiff_2_1}{Logical columns indicating
#'   membership in each set.}
#'
#' @examples
#' # Example 1: Simple bracket characters
#' pattern1 <- "[ABCD]"
#' pattern2 <- "[CDEF]"
#' f_str1_str2.compareCharClasses_list(pattern1, pattern2)
#' f_str1_str2.compareCharClasses_list(pattern1, pattern2, output_as_data_frame = TRUE)
#'
#' # Example 2: Using the original user-provided patterns:
#' pattern1 <- "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\\\")}@-]"
#' pattern2 <- "[.\\\\+*?^$(){}|\\[\\]\\-]"
#' f_str1_str2.compareCharClasses_list(pattern1, pattern2)
#' f_str1_str2.compareCharClasses_list(pattern1, pattern2, output_as_data_frame = TRUE)
#'
#' # Example 3: (Health data style) Suppose we store ICD codes as
#' # bracketed patterns, and want to see differences:
#' pattern_icdV1 <- "[A00,A01,B00,B01]"
#' pattern_icdV2 <- "[B01,B02,C00,C01]"
#' f_str1_str2.compareCharClasses_list(pattern_icdV1, pattern_icdV2, VERBOSE = TRUE)
#' f_str1_str2.compareCharClasses_list(pattern_icdV1, pattern_icdV2,
#'                                     VERBOSE = TRUE, output_as_data_frame = TRUE)
#'
#' @export
f_str1_str2.compareCharClasses_list <- function(RegExChrClass1, 
                                                RegExChrClass2, 
                                                output_as_data_frame = FALSE, 
                                                VERBOSE = isTRUE(getOption("verbose"))) {
    
    # 1) Remove leading '[' and trailing ']' (if present)
    RegExChrClass1.removeBracket <- str_remove_all(RegExChrClass1, "^\\[|\\]$")
    RegExChrClass2.removeBracket <- str_remove_all(RegExChrClass2, "^\\[|\\]$")
    
    # 2) Split into individual characters and keep them unique
    RegExChrClass1.as_vector <- RegExChrClass1.removeBracket %>%
        str_split(pattern = "", n = Inf) %>%
        unlist() %>%
        unique()
    
    RegExChrClass2.as_vector <- RegExChrClass2.removeBracket %>%
        str_split(pattern = "", n = Inf) %>%
        unlist() %>%
        unique()

    # 3) Perform set operations
    union_vec       <- union(RegExChrClass1.as_vector, RegExChrClass2.as_vector)
    intersect_vec   <- intersect(RegExChrClass1.as_vector, RegExChrClass2.as_vector)
    setdiff_1_2_vec <- setdiff(RegExChrClass1.as_vector, RegExChrClass2.as_vector)
    setdiff_2_1_vec <- setdiff(RegExChrClass2.as_vector, RegExChrClass1.as_vector)
    
    # Debug prints if VERBOSE is TRUE
    if (VERBOSE) {
        print("Set operations results:")
        print(list(union_vec       = union_vec,
                   intersect_vec   = intersect_vec,
                   setdiff_1_2_vec = setdiff_1_2_vec,
                   setdiff_2_1_vec = setdiff_2_1_vec))
    }
    
    # 4) Return either a data frame or the original list
    if (output_as_data_frame) {
        df_out <- tibble(
            union_char      = union_vec,
            vec1            = union_vec %in% RegExChrClass1.as_vector,
            vec2            = union_vec %in% RegExChrClass2.as_vector,
            intersect       = union_vec %in% intersect_vec,
            setdiff_1_2     = union_vec %in% setdiff_1_2_vec,
            setdiff_2_1     = union_vec %in% setdiff_2_1_vec
        )
        return(df_out)
    } else {
        return(
            list(
                vec1.character = RegExChrClass1.as_vector, 
                vec2.character = RegExChrClass2.as_vector, 
                union       = union_vec,
                intersect   = intersect_vec,
                setdiff_1_2 = setdiff_1_2_vec,
                setdiff_2_1 = setdiff_2_1_vec
            )
        )
    }
}


pattern1 <- "[ABCD]"
pattern2 <- "[CDEF]"
f_str1_str2.compareCharClasses_list(pattern1, pattern2) %>% str
f_str1_str2.compareCharClasses_list(pattern1, pattern2, output_as_data_frame = TRUE)
cat("   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
pattern1 <- "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\\\")}@-]"
pattern2 <- "[.\\\\+*?^$(){}|\\[\\]\\-]"
f_str1_str2.compareCharClasses_list(pattern1, pattern2) %>% str
f_str1_str2.compareCharClasses_list(pattern1, pattern2, output_as_data_frame = TRUE)
cat("   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
pattern_icdV1 <- "[A00,A01,B00,B01]"
pattern_icdV2 <- "[B01,B02,C00,C01]"
f_str1_str2.compareCharClasses_list(pattern_icdV1, pattern_icdV2, VERBOSE = TRUE) %>% str
f_str1_str2.compareCharClasses_list(pattern_icdV1, pattern_icdV2, output_as_data_frame = TRUE)
```
  
  
### \% f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet, ) 
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)
RegExChrClass34strings_cheatsheet = "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
RegExChrClass_gpt_o1 = "[.\\\\+*?^$(){}|\\[\\]\\-]"
RegExChrClass_gpt_o1p = "[.*+?^=!:|\\\\/()\\[\\]{}]"
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet, RegExChrClass_gpt_o1) %>% str
f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet, RegExChrClass_gpt_o1)$union %>% dput.deparse.cat0()
f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet, RegExChrClass_gpt_o1)$intersect %>% dput.deparse.cat0()
cat("   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
f_str1_str2.compareCharClasses_list(RegExChrClass_gpt_o1, RegExChrClass_gpt_o1p) %>% str
f_str1_str2.compareCharClasses_list(RegExChrClass_gpt_o1, RegExChrClass_gpt_o1p)$union %>% dput.deparse.cat0()
f_str1_str2.compareCharClasses_list(RegExChrClass_gpt_o1, RegExChrClass_gpt_o1p)$intersect %>% dput.deparse.cat0()

```
  
  
### \% vec_chr.ASCII_nonalphanumeric |> f_str1_str2.compareCharClasses_list() 
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)
vec_chr.ASCII_nonalphanumeric = c(32:47,58:64,91:96,123:126) %>% {function(vec_chr) {  vec_chr |> intToUtf8() |> str_split("") |> unlist() |> set_names(vec_chr)  }}()
vec_chr.ASCII_nonalphanumeric %>% str()
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
RegExChrClass34strings_cheatsheet = "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
RegExChrClass_gpt_o1 = "[.\\\\+*?^$(){}|\\[\\]\\-]"
RegExChrClass_gpt_o1p = "[.*+?^=!:|\\\\/()\\[\\]{}]"
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
vec_chr.ASCII_nonalphanumeric |> f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet) %>% str
vec_chr.ASCII_nonalphanumeric |> f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet) %>% str
vec_chr.ASCII_nonalphanumeric |> f_str1_str2.compareCharClasses_list(RegExChrClass34strings_cheatsheet) %>% str
```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
# __________|------  
# ⸿ START) function) internal) env1$f$f_vec1_vec2.setdiff_list() ----  
## :: f_RegExChrClass1_RegExChrClass2.setdiff_list = function() -dev -pending  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
## ->> Now included in env1$env.internal.source.r ----

##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
## :: f_RegExChrClass1_RegExChrClass2.setdiff_list = function() ====
## Rdev/00_base_program/002_base_encoding_RegEx/f_RegExChrClass1_RegExChrClass2.setdiff_list.dev.Rmd
.tmp$env1_subenv_name = "env.internal.attach"
.tmp$objectname = "f_RegExChrClass1_RegExChrClass2.setdiff_list" 
env1[[.tmp$env1_subenv_name]][[.tmp$objectname]] = function(RegExChrClass1, 
                                                            RegExChrClass2, 
                                                            output_as_data_frame = FALSE, 
                                                            VERBOSE = isTRUE(getOption("verbose"))) {
    
    # 1) Remove leading '[' and trailing ']' (if present)
    RegExChrClass1.removeBracket <- str_remove_all(RegExChrClass1, "^\\[|\\]$")
    RegExChrClass2.removeBracket <- str_remove_all(RegExChrClass2, "^\\[|\\]$")
    
    # 2) Split into individual characters and keep them unique
    RegExChrClass1.as_vector <- RegExChrClass1.removeBracket %>%
        str_split(pattern = "", n = Inf) %>%
        unlist() %>%
        unique()
    
    RegExChrClass2.as_vector <- RegExChrClass2.removeBracket %>%
        str_split(pattern = "", n = Inf) %>%
        unlist() %>%
        unique()

    env1$f$f_vec1_vec2.setdiff_list(vec1 = RegExChrClass1.as_vector, vec2 = RegExChrClass2.as_vector, output_as_data_frame = output_as_data_frame)
}
```
  
  
###### ECHO \% |> f_RegExChrClass1_RegExChrClass2.setdiff_list() ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
pattern1 <- "[ABCD]"
pattern2 <- "[CDEF]"
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern1, pattern2) %>% str
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern1, pattern2, output_as_data_frame = TRUE)
cat("   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
pattern1 <- "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\\\")}@-]"
pattern2 <- "[.\\\\+*?^$(){}|\\[\\]\\-]"
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern1, pattern2) %>% str
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern1, pattern2, output_as_data_frame = TRUE)
cat("   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
pattern_icdV1 <- "[A00,A01,B00,B01]"
pattern_icdV2 <- "[B01,B02,C00,C01]"
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern_icdV1, pattern_icdV2, VERBOSE = TRUE) %>% str
env1$env.internal.attach$f_RegExChrClass1_RegExChrClass2.setdiff_list(pattern_icdV1, pattern_icdV2, output_as_data_frame = TRUE)
```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
# __________|------  
# ⸿ START) function) internal) env1$f$f_list_vecs.union_df() ----  
## :: f_list_RegExChrClass.union_df = function() -dev -pending  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
## ->> Now included in env1$env.internal.source.r ----

##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
## :: f_list_RegExChrClass.union_df() = function() ====
## Rdev/00_base_program/002_base_encoding_RegEx/f_RegExChrClass1_RegExChrClass2.setdiff_list.dev.Rmd
.tmp$env1_subenv_name = "env.internal.attach"
.tmp$objectname = "f_list_RegExChrClass.union_df" 
env1[[.tmp$env1_subenv_name]][[.tmp$objectname]] = function(input_list_RegExChrClass, 
                                                            print_str = TRUE, 
                                                            VERBOSE = isTRUE(getOption("verbose"))) {
    
    # 1) Remove leading '[' and trailing ']' (if present)
    input_list_RegExChrClass.removeBracket <- input_list_RegExChrClass %>% map(~str_remove_all(.x, "^\\[|\\]$"))

    # 2) Split into individual characters and keep them unique
    input_list_RegExChrClass.map_as_vector = input_list_RegExChrClass.removeBracket %>%
        map(~str_split(.x, pattern = "", n = Inf) %>%
            unlist() %>%
            unique())

    env1$f$f_list_vecs.union_df(input_list_vecs = input_list_RegExChrClass.map_as_vector, print_str = print_str, VERBOSE = VERBOSE)
}
```
  
  
### \% f_list_RegExChrClass.union_df(list()) 
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)
RegExChrClass34strings_cheatsheet = "[]$*+.?[^{|(\\#%&~_/<=>'!,:;`\")}@-]"
RegExChrClass_gpt_o1 = "[.\\\\+*?^$(){}|\\[\\]\\-]"
RegExChrClass_gpt_o1p = "[.*+?^=!:|\\\\/()\\[\\]{}]"
RegExChrClass4RegExEscape_gpt_o1 = "[$()*+.?[^{|(\\#%&~_/<=>'!,:;`)}@-]"
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
env1$env.internal.attach$f_list_RegExChrClass.union_df(list(RegExChrClass34strings_cheatsheet, RegExChrClass_gpt_o1, RegExChrClass_gpt_o1p, RegExChrClass4RegExEscape_gpt_o1)) %>% as.data.frame

```

  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
###### \% |> () ----  
```{r, echo=FALSE, results="markup", collapse=TRUE, paged.print=FALSE, comment="", R.options=list(width=120)}
options(width=120)

```
  
  
  
  
# __________|------  
# ⸿ END ----  
```{r END-NoEvalNoEchoNoMsgNoResults, eval=FALSE, echo=FALSE, warning=TRUE, message=NA, results="hide", collapse=TRUE, paged.print=FALSE}
##________________________________________________________________________________  
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  
##++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++  
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  
##________________________________________________________________________________  
##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
# ⸿ END ----  
cat("    ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::    \n")
cat("    [][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]    \n")
cat("    {}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}    \n")
cat("    ()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()    \n")
cat("    <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>    \n")
cat("    HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH    \n")
cat("    OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO    \n")
cat("    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX    \n")
cat("    VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV    \n")
cat("    WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW    \n")
cat("    -|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|    \n")
cat("    ________________________________________________________________________    \n")
cat("    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    \n")
cat("    ************************************************************************    \n")
cat("    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++    \n")
cat("    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~    \n")
```
  
  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```

  
###### ECHO \% |> () ----  
```{r, echo=TRUE, results="markup", collapse=TRUE, paged.print=FALSE, comment="#", R.options=list(width=120)}
options(width=120)

```
  
  
```{r createBACKUP, eval=TRUE, include=FALSE}
if (Sys.getenv("PARENT_RENDERING") != "YES") {
    # if (Sys.info()["sysname"] == "Windows") {
        env1$env.internal.attach$f_FileNameExt.createBACKUP(BACKUP_from_path_FileNameExt = rstudioapi::getSourceEditorContext()$path|>str_replace("\\.([[:alnum:]]+)$",".Rmd"), .BACKUP_to_path="-BACKUP", timeFormat="%y%m%dT%H", overwrite=TRUE)
        # env1$env.internal.attach$f_FileNameExt.createBACKUP(BACKUP_from_path_FileNameExt = rstudioapi::getSourceEditorContext()$path|>str_replace("\\.([[:alnum:]]+)$",".nb.html"), .BACKUP_to_path="-BACKUP", timeFormat="%y%m%dT%H", overwrite=TRUE)
    # }
}
```
  
  
```{r gitCheckout-NoEchoNoMsgNoResults, echo=FALSE, warning=TRUE, message=NA, results="hide"}
env1$source[[basename(rstudioapi::getSourceEditorContext()$path)]] = rstudioapi::getSourceEditorContext()$path
env1$path$LastSourceEditorContext.path_FileName.nb.html = env1$path$LastSourceEditorContext.path_FileNameExt |> str_replace("\\.([[:alnum:]]+)$",".nb.html")
if (Sys.info()["sysname"] == "Windows" && Sys.getenv("PARENT_RENDERING") != "YES") {  try(  paste0('ping -n 5 127.0.0.1 > nul & "C:/Program Files (x86)/Microsoft/Edge/Application/msedge_proxy.exe" --app="',env1$path$LastSourceEditorContext.path_FileName.nb.html|>normalizePath(winslash="/",mustWork=TRUE),'"') |> shell(wait=FALSE)  )  }  # else { browseURL(env1$path$LastSourceEditorContext.path_FileName.nb.html|>normalizePath(winslash="/",mustWork=TRUE)) }
env1$f$showCodeText2openSourceInGitHub()
cat("* To revert to the last commited file, run the following terminal command:  \n")
paste0( "git checkout -- ",shQuote(env1$path$LastSourceEditorContext.path_FileNameExt) ) |> deparse() |> cat(" |> system(intern=TRUE)  \n", sep="")
paste0( "git checkout -- ",shQuote(env1$path$LastSourceEditorContext.path_FileName.nb.html) ) |> deparse() |> cat(" |> system(intern=TRUE)  \n", sep="")
```
  
  
