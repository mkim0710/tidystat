# Clarifications Q & As

## Data Context: What is the structure of DS.DNR? Is it a data frame with primarily numeric and factor columns? Are there specific data types or patterns I should be aware of?
See below:
```r
CohortGJ0910.BaselineJKGJ2085NoHx...01 <- readRDS("data/CohortGJ0910.BaselineJKGJ2085NoHx...01.rds")
DS.DNR = CohortGJ0910.BaselineJKGJ2085NoHx...01 %>%
    rownames_to_column()
DS.DNR |> str(max.level = 2, give.attr = TRUE)
# > DS.DNR |> str(max.level = 2, give.attr = TRUE)
# tibble [2,837 Ã— 60] (S3: tbl_df/tbl/data.frame)
#  $ rowname                      : chr [1:2837] "1" "2" "3" "4" ...
#  $ PERSON_ID                    : chr [1:2837] "10162952" "10351260" "10363009" "10458592" ...
#  $ EnrollYear                   : Factor w/ 2 levels "2009","2010": 1 1 1 1 1 1 1 1 1 1 ...
#  $ SEX                          : Factor w/ 2 levels "Male","Female": 2 1 2 1 2 1 2 1 2 2 ...
#  $ AGE_GROUP                    : Factor w/ 19 levels "0","1","2","3",..: 16 12 12 10 7 9 14 7 12 7 ...
#  $ SIDO                         : Factor w/ 17 levels "11","26","27",..: 15 2 1 9 1 1 2 12 1 3 ...
#  $ SGG                          : Factor w/ 264 levels "11110","11140",..: 229 41 12 90 7 12 40 158 17 44 ...
#  $ IPSN_TYPE_CD                 : Factor w/ 6 levels "1","2","5","6",..: 4 1 3 1 3 3 3 3 2 3 ...
#  $ CTRB_PT_TYPE_CD              : Factor w/ 11 levels "0","1","2","3",..: 10 7 2 10 6 7 3 8 10 6 ...
#  $ DFAB_GRD_CD                  : Factor w/ 3 levels "0","1","2": 1 1 1 3 1 1 1 1 1 1 ...
#  $ DFAB_PTN_CD                  : Factor w/ 9 levels "0","1","2","3",..: 1 1 1 2 1 1 1 1 1 1 ...
#  $ YKIHO_GUBUN_CD               : Factor w/ 19 levels "10","20","28",..: 2 2 2 2 2 2 7 1 2 2 ...
#  $ HEIGHT                       : num [1:2837] 136 159 152 164 159 181 152 173 164 161 ...
#  $ WEIGHT                       : num [1:2837] 55 58 71 70 54 65 48 69 61 53 ...
#  $ BP_HIGH                      : num [1:2837] 120 120 117 140 133 109 139 115 140 110 ...
#  $ BP_LWST                      : num [1:2837] 70 80 86 80 82 69 76 70 85 70 ...
#  $ BLDS                         : num [1:2837] 117 104 95 84 98 90 100 87 90 86 ...
#  $ TOT_CHOLE                    : num [1:2837] 207 189 233 212 164 230 289 175 203 168 ...
#  $ SGOT_AST                     : num [1:2837] 29 15 25 56 17 17 24 29 40 14 ...
#  $ SGPT_ALT                     : num [1:2837] 20 16 34 119 10 9 24 67 32 14 ...
#  $ GAMMA_GTP                    : num [1:2837] 28 16 33 169 14 9 23 62 15 14 ...
#  $ WAIST                        : num [1:2837] 93 74 92 98 64 83 78 86 74 66 ...
#  $ TRIGLYCERIDE                 : num [1:2837] 170 100 241 499 42 90 106 109 153 65 ...
#  $ HDL_CHOLE                    : num [1:2837] 39 57 70 51 66 46 58 40 51 69 ...
#  $ LDL_CHOLE                    : num [1:2837] 134 112 115 61 89 166 209 127 121 86 ...
#  $ CREATININE                   : num [1:2837] 0.7 1.2 1 1 1 ...
#  $ HCHK_APOP_PMH_YN             : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...
#  $ HCHK_HDISE_PMH_YN            : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...
#  $ HCHK_HPRTS_PMH_YN            : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 2 1 1 1 ...
#  $ HCHK_DIABML_PMH_YN           : Factor w/ 2 levels "0","1": 2 1 1 1 1 1 1 1 1 1 ...
#  $ HCHK_HPLPDM_PMH_YN           : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 2 1 1 1 ...
#  $ HCHK_ETCDSE_PMH_YN           : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...
#  $ HCHK_PHSS_PMH_YN             : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...
#  $ Female                       : logi [1:2837] TRUE FALSE TRUE FALSE TRUE FALSE ...
#  $ BMI                          : num [1:2837] 29.7 22.9 30.7 26 21.4 ...
#  $ BMI_lt185                    : logi [1:2837] FALSE FALSE FALSE FALSE FALSE FALSE ...
#  $ BMI_ge185lt230               : logi [1:2837] FALSE TRUE FALSE FALSE TRUE TRUE ...
#  $ BMI_ge230lt250               : logi [1:2837] FALSE FALSE FALSE FALSE FALSE FALSE ...
#  $ BMI_ge185lt250               : logi [1:2837] FALSE TRUE FALSE FALSE TRUE TRUE ...
#  $ BMI_ge250lt300               : logi [1:2837] TRUE FALSE FALSE TRUE FALSE FALSE ...
#  $ BMI_ge300                    : logi [1:2837] FALSE FALSE TRUE FALSE FALSE FALSE ...
#  $ BMI_ge350                    : logi [1:2837] FALSE FALSE FALSE FALSE FALSE FALSE ...
#  $ BMI_ge400                    : logi [1:2837] FALSE FALSE FALSE FALSE FALSE FALSE ...
#  $ BMI.cut4                     : Factor w/ 4 levels "[0,18.5)","[18.5,25)",..: 3 2 4 3 2 2 2 2 2 2 ...
#  $ FPG                          : num [1:2837] 117 104 95 84 98 90 100 87 90 86 ...
#  $ FPG_ge100                    : logi [1:2837] TRUE TRUE FALSE FALSE FALSE FALSE ...
#  $ FPG_ge126                    : logi [1:2837] FALSE FALSE FALSE FALSE FALSE FALSE ...
#  $ SBP                          : num [1:2837] 120 120 117 140 133 109 139 115 140 110 ...
#  $ DBP                          : num [1:2837] 70 80 86 80 82 69 76 70 85 70 ...
#  $ BP_ESCESH2018                : Factor w/ 6 levels "(1) Optimal BP",..: 2 2 3 4 3 1 3 1 4 1 ...
#  $ FPG_ge100lt126               : logi [1:2837] TRUE TRUE FALSE FALSE FALSE FALSE ...
#  $ TRIGLYCERIDE_ge150           : logi [1:2837] TRUE FALSE TRUE TRUE FALSE FALSE ...
#  $ HDL_CHOLE_lt4050             : logi [1:2837] TRUE FALSE FALSE FALSE FALSE FALSE ...
#  $ WAIST_ge9080                 : logi [1:2837] TRUE FALSE TRUE TRUE FALSE FALSE ...
#  $ WAIST_ge9085                 : logi [1:2837] TRUE FALSE TRUE TRUE FALSE FALSE ...
#  $ BP_ge130_85                  : logi [1:2837] FALSE FALSE TRUE TRUE TRUE FALSE ...
#  $ nMetS_NoMeds_WAIST_ge9080    : int [1:2837] 4 1 3 3 1 0 2 0 2 0 ...
#  $ nMetS_NoMeds_WAIST_ge9080.ge3: logi [1:2837] TRUE FALSE TRUE TRUE FALSE FALSE ...
#  $ nMetS_NoMeds_WAIST_ge9085    : int [1:2837] 4 1 3 3 1 0 2 0 2 0 ...
#  $ nMetS_NoMeds_WAIST_ge9085.ge3: logi [1:2837] TRUE FALSE TRUE TRUE FALSE FALSE ...

```

## Dependency Scope: When you say "reduce the dependency," do you mean:
Reduce nested/chained operations (e.g., multiple select_if() calls)? I prefer tidyverse 
Minimize reliance on external functions or packages? yes, except tidyverse, flextable, and officer. if possible, I want to be free of gtsummary library as well. 
Simplify the logic to make it more readable and maintainable? yes

## Regex Pattern: The pattern "^\\\\[A-Za-z0-9]+\\\\_\\\\[A-Za-z0-9]+" appears malformed (mismatched brackets). Should this be "^[A-Za-z0-9]+_[A-Za-z0-9]+" (matching columns like "A01_BMI")?
Yes, '\\\\' would be there for escaping.

## Package Version: Are you using gtsummary (for tbl_uvregression) with a specific version? This will help me suggest compatible syntax.
gtsummary version 2.2.0 or above

## Output Requirements: Beyond the univariate regression table, are there specific output formats or additional metrics you need preserved?
I want the final output to be in both word & excel, which will be finally formatted as scientific journal manuscript.

## Environment Object: The code references env1$... extensively. Is this a custom environment object you've created, or should the refactored code eliminate this dependency? 
See: https://raw.githubusercontent.com/mkim0710/tidystat/refs/heads/master/env1%24env.internal.source.r
