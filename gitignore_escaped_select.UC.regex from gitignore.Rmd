---
title: "gitignore_escaped_select.UC.regex from gitignore.Rmd"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
# gitignore_escaped_select.UC.regex from gitignore.Rmd
# f_vec.extract_non_alphanumeric_list.dev.r

library(tidyverse)
f_vec.extract_non_alphanumeric_list <- function(input_vec) {
  f_str.extract_non_alphanumeric_vec <- function(input_string) {
    positions <- gregexpr("[^[:alnum:]]", input_string)  # Match any non-alphanumeric character
    non_alnum_chars <- regmatches(input_string, positions)
    unlist(non_alnum_chars)  # Unlist to get a vector of non-alphanumeric characters
  }
  
  # Use map to apply f_str.extract_non_alphanumeric_vec to each element and maintain list structure
  result_list <- map(input_vec, f_str.extract_non_alphanumeric_vec)
  
  # Set the names of the list elements to match the input vector
  names(result_list) <- input_vec
  
  result_list
}

# # Example usage of the function
# input_vec <- c("Hello, World!", "R4 & Python?", "123% Ready!", "12345")
# result <- f_vec.extract_non_alphanumeric_list(input_vec)
# result %>% dput
# list(`Hello, World!` = c(",", " ", "!"), `R4 & Python?` = c(" ", "&", " ", "?"), `123% Ready!` = c("%", " ", "!"), `12345` = character(0))
```



```{r, paged.print=FALSE}
#@ gitignore = read_lines(".gitignore") =====
# rstudioapi::navigateToFile(".gitignore")
gitignore = read_lines(".gitignore", skip_empty_rows = T)
# gitignore = gitignore %>% c(".*")
gitignore %>% dput
c(".Rproj.user", ".Rhistory", ".RData", ".Ruserdata", "*.zip", 
"*.7z", "*.r.gz", "*.r.xz", "*.rmd.gz", "*.rmd.xz", "*.Rproj", 
".gitignore", ".git", ".github", "MH)*.r", "*.lnk", "*alias", 
"*.ppt", "*.pptx", "*.xls", "*.xlsx", "*.doc", "*.docx", "*- void*.*", 
"*-void*.*", "*- info.*", "*-info.*", "*-dev*.*", "*debug*.*", 
"-tmp", "*- tmp*.*", "*-tmp*.*", "*- old.*", "*-old.*", "*-log*.*", 
"*.rtf")
```



```{r, paged.print=FALSE}
gitignore %>% f_vec.extract_non_alphanumeric_list %>% unlist %>% unique %>% dput
c(".", "*", ")", "-", " ")
```



```{r, paged.print=FALSE}
#@ gitignore_escaped =====
gitignore_escaped = gitignore[gitignore != ""] %>% 
    str_replace_all("\\.", "\\\\.") %>% # Caution: dot should be handled before asterisk~!
    str_replace_all("\\*", "\\.\\*") %>%
    str_replace_all("\\)", "\\\\)") %>% 
    str_replace_all("\\-", "\\\\-") %>% 
    # str_replace_all("\\ ", "\\\\ ") %>%  # spaces  are generally treated as literal spaces in regular expressions 
    unique 
# gitignore_escaped = paste0("(^", gitignore_escaped, "$)")
gitignore_escaped %>% dput
c("\\.Rproj\\.user", "\\.Rhistory", "\\.RData", "\\.Ruserdata", 
".*\\.zip", ".*\\.7z", ".*\\.r\\.gz", ".*\\.r\\.xz", ".*\\.rmd\\.gz", 
".*\\.rmd\\.xz", ".*\\.Rproj", "\\.gitignore", "\\.git", "\\.github", 
"MH\\).*\\.r", ".*\\.lnk", ".*alias", ".*\\.ppt", ".*\\.pptx", 
".*\\.xls", ".*\\.xlsx", ".*\\.doc", ".*\\.docx", ".*\\- void.*\\..*", 
".*\\-void.*\\..*", ".*\\- info\\..*", ".*\\-info\\..*", ".*\\-dev.*\\..*", 
".*debug.*\\..*", "\\-tmp", ".*\\- tmp.*\\..*", ".*\\-tmp.*\\..*", 
".*\\- old\\..*", ".*\\-old\\..*", ".*\\-log.*\\..*", ".*\\.rtf"
)
```



```{r, paged.print=FALSE}
#@ gitignore_escaped_select =====
gitignore_escaped %>% str_which("doc|xls|ppt")
gitignore_escaped_select = gitignore_escaped %>% {.[-str_which(., "doc|xls|ppt")]}
gitignore_escaped_select %>% dput #----
c("\\.Rproj\\.user", "\\.Rhistory", "\\.RData", "\\.Ruserdata", 
".*\\.zip", ".*\\.7z", ".*\\.r\\.gz", ".*\\.r\\.xz", ".*\\.rmd\\.gz", 
".*\\.rmd\\.xz", ".*\\.Rproj", "\\.gitignore", "\\.git", "\\.github", 
"MH\\).*\\.r", ".*\\.lnk", ".*alias", ".*\\- void.*\\..*", ".*\\-void.*\\..*", 
".*\\- info\\..*", ".*\\-info\\..*", ".*\\-dev.*\\..*", ".*debug.*\\..*", 
"\\-tmp", ".*\\- tmp.*\\..*", ".*\\-tmp.*\\..*", ".*\\- old\\..*", 
".*\\-old\\..*", ".*\\-log.*\\..*", ".*\\.rtf")
```

```{r, paged.print=FALSE}
# for (i_regex in unique(gitignore_escaped_select)) {
#     df <- df_dir1 %>% filter(!str_detect(path.basename, i_regex))
# }
```



```{r, paged.print=FALSE}
#@ gitignore_escaped_select.UC =====
gitignore_escaped_select.UC = gitignore_escaped_select %>% toupper %>% unique
gitignore_escaped_select.UC %>% dput #----
c("\\.RPROJ\\.USER", "\\.RHISTORY", "\\.RDATA", "\\.RUSERDATA", 
".*\\.ZIP", ".*\\.7Z", ".*\\.R\\.GZ", ".*\\.R\\.XZ", ".*\\.RMD\\.GZ", 
".*\\.RMD\\.XZ", ".*\\.RPROJ", "\\.GITIGNORE", "\\.GIT", "\\.GITHUB", 
"MH\\).*\\.R", ".*\\.LNK", ".*ALIAS", ".*\\- VOID.*\\..*", ".*\\-VOID.*\\..*", 
".*\\- INFO\\..*", ".*\\-INFO\\..*", ".*\\-DEV.*\\..*", ".*DEBUG.*\\..*", 
"\\-TMP", ".*\\- TMP.*\\..*", ".*\\-TMP.*\\..*", ".*\\- OLD\\..*", 
".*\\-OLD\\..*", ".*\\-LOG.*\\..*", ".*\\.RTF")
```



```{r, paged.print=FALSE}
gitignore_escaped_select.UC.regex = gitignore_escaped_select.UC %>% 
    {paste0("(", ., ")")} %>% 
    paste(collapse = "|") %>% {paste0("^", ., "$")} %>% dput #----
"^(\\.RPROJ\\.USER)|(\\.RHISTORY)|(\\.RDATA)|(\\.RUSERDATA)|(.*\\.ZIP)|(.*\\.7Z)|(.*\\.R\\.GZ)|(.*\\.R\\.XZ)|(.*\\.RMD\\.GZ)|(.*\\.RMD\\.XZ)|(.*\\.RPROJ)|(\\.GITIGNORE)|(\\.GIT)|(\\.GITHUB)|(MH\\).*\\.R)|(.*\\.LNK)|(.*ALIAS)|(.*\\- VOID.*\\..*)|(.*\\-VOID.*\\..*)|(.*\\- INFO\\..*)|(.*\\-INFO\\..*)|(.*\\-DEV.*\\..*)|(.*DEBUG.*\\..*)|(\\-TMP)|(.*\\- TMP.*\\..*)|(.*\\-TMP.*\\..*)|(.*\\- OLD\\..*)|(.*\\-OLD\\..*)|(.*\\-LOG.*\\..*)|(.*\\.RTF)$"
```



```{r, paged.print=FALSE}
#@ end ----


```



```{r, paged.print=FALSE}
#@ end ----


```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
